<!DOCTYPE HTML>
{% load static %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <link href="{% static 'css/main.css' %}" rel="stylesheet" type="text/css" media="all">
    <title>{% block title %}Chat{% endblock %}</title>
    {% block css %}{% endblock %}
    <!-- from base - Bootstrap files, icons, css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" />
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="shortcut icon" type="image/png" href="{% static 'favicon.ico' %}" />  
    <!-- ... -->    
</head>

<body>
    {% include 'users/navbars/sidebar.html' %}
    {% include 'users/navbars/navbarDash.html' %}
    
    <!-- original code for chat -->
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script src="{% static 'js/main.js' %}"></script>
    {% block extra_js %}{% endblock %}
    </body>
    <!-- -->

    <!-- Bootstrap js files -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
    <!-- -->

    <!-- style customization -->
    <script>
        //Chat id box navbar
        const chatNavBar = document.querySelector('#root > div > div.right-panel > div.rce-navbar.light');
        chatNavBar.style.backgroundColor = '#230542';
        chatNavBar.style.borderRadius = '0px 5px 0px 0px';

        // friend id box with img
        const idBox = document.querySelector('#root > div > div.right-panel > div.rce-navbar.light > div.rce-navbar-item.rce-navbar-item__left > div > div');
        idBox.style.backgroundColor = '#57068c';
        idBox.style.borderRadius = '5px';
        idBox.style.fontWeight = 'bold';
        idBox.style.color = 'white';

        //Entire Chat window
        const mainContainer = document.querySelector('#root > div');
        mainContainer.style.minHeight = '80%';
        mainContainer.style.marginTop = '4.2rem';
        mainContainer.style.marginBottom = '0rem';

        //sidebar button fix
        const sideBarButttonOpen = document.querySelector('label #btn');
        const sideBarButttonClose = document.querySelector('label #cancel');
        sideBarButttonOpen.style.marginTop = '0px';
        sideBarButttonClose.style.marginTop = '0px';

        //msg list bg-color
        const msgList = document.querySelector('#root > div > div.right-panel > div.rce-container-mlist.message-list > div');
        msgList.style.backgroundColor = '#330662';

        //left chat list
        const chatList = document.querySelector('#root > div > div.chat-list > div');
        chatList.style.background = '#57068c';
        chatList.style.borderRadius = '5px 0px 0px 5px';
        chatList.style.maxWidth = '310px';

        //chat list search box
        const chatLstSearchBox = document.querySelector('#root > div > div.chat-list > div > div:nth-child(1) > span > div.rce-container-input');
        chatLstSearchBox.style.backgroundColor = '#230542';
        chatLstSearchBox.style.borderRadius = '5px 5px 0px 0px';
        chatLstSearchBox.style.padding = '6px';
        //chat list search area
        const chatLstSearchArea = document.querySelector('#root > div > div.chat-list > div > div:nth-child(1) > span > div.rce-container-input > input');
        chatLstSearchArea.style.backgroundColor = '#57068c';
        chatLstSearchArea.style.color = 'white';
        chatLstSearchArea.style.margin = '1%';
        chatLstSearchArea.style.marginLeft = '5px';
        chatLstSearchArea.style.fontSize = '1rem';
        chatLstSearchArea.style.height = '34px';
        
        //all icons to white
        const allIcons = document.querySelectorAll('.rce-button');
        allIcons.forEach(icon =>{
            icon.style.color = 'white';
            icon.style.padding= "0px";
        })

        // // typing container <<< see above 'chat list search box' padding Akshat
        // const container = document.querySelectorAll('.rce-container-input');
        // container.forEach(cont =>{
        //     cont.style.height = "52px";
        // })
        //text box
        const textBox = document.querySelector('#root > div > div.right-panel > div.rce-container-input');
        textBox.style.borderRadius = '0px 0px 5px 0px';
        textBox.style.backgroundColor = '#230542';
        textBox.style.minHeight = '6%';
        //textbox text area
        const textArea = document.querySelector('#root > div > div.right-panel > div.rce-container-input > textarea');
        textArea.style.backgroundColor = '#57068c';
        textArea.style.height = '41px';
        textArea.style.fontSize = '1rem';
        textArea.style.color = 'white'; //placeholder white style added at bottom
        //send button
        const sendButton = document.querySelector('#root > div > div.right-panel > div.rce-container-input > div:nth-child(3) > button');
        sendButton.classList.add("standard_button");
        sendButton.style.backgroundColor= '#57068c';
        sendButton.style.width= '100%';
        sendButton.style.padding= '11px';
        sendButton.innerHTML = `<i class="fa-solid fa-paper-plane fa-1x"></i>`;

    //item to fix
        //chat list item <<<
        // const chatLstItem = document.querySelectorAll('#root > div > div.chat-list > div > div:nth-child(1) > span > div.rce-container-clist > div:nth-child(1) > div');
        // const chatLstItem = document.querySelectorAll('.rce-citem');
        // console.log(chatLstItem);
        // chatLstItem.forEach(item=>{
        //     item.style.backgroundColor = '#57068c';
        // })

    </script>
    <style>#root div div.right-panel div.rce-container-input textarea.rce-input::placeholder{color: white;}
    #root > div > div.chat-list > div > div:nth-child(1) > span > div.rce-container-input > input::placeholder{color:white;}
    .rce-mbox.rce-mbox-right{background-color: #57068c; color: white;}
    .rce-mbox-right-notch{fill: #57068c;}
    .rce-mbox{background-color: #775a9d; color: white;}
    .rce-mbox-left-notch{fill: #775a9d;}
    .rce-mbox-time{color:#a69db2;}
    .rce-mbox-title{display: none;} /*hide msgBox img and name */
    /* chat list style */
    .chat-list{max-width: 310px;}
    .rce-citem{background:#775a9d; color:white; padding:1px;}
    .rce-citem:hover{background:#230542;}
    .rce-citem-body--bottom-title{color:#a69db2;}
    .rce-citem:hover .rce-citem-body--top-time{color:#a69db2;} /* timebox onhover */
    </style>
    <!-- ---- -->

</html>
